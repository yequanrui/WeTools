const DEFAULT_LANGUAGE_CODE="2052",devList=[],STORAGE_LIST={videoBgPath:"videoBgPath"},LANGUAGE_MAP={2052:{"custom-bg":"自定义背景","close-bg":"关闭背景","more-bg":"更多背景"},1028:{"custom-bg":"Custom Background","close-bg":"Close Background","more-bg":"More Background"}},stopProp=e=>e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,appendToHead=e=>{if(!e)return;let t=document.getElementsByTagName("head")[0];!t&&(t=document.createElement("head")),t.appendChild(e)},addScript=(e,t,o)=>{if(!e)return;const n=document.createElement("script");n.type="text/javascript",n.src=e,t&&(n.onload=t),o&&(n.onerror=o),appendToHead(n)},addStyle=e=>{if(!e)return;const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,appendToHead(t)},toggleClass=(e,t,o=!1)=>{const n=document.querySelector(e);n&&(o?n.classList.add(t):n.classList.remove(t))},keyEvent=(e,t=!1,o=!1,n=!1)=>{const a=new KeyboardEvent("keydown",{ctrlKey:t,altKey:o,shiftKey:n,detail:1,view:window});Object.defineProperty(a,"key",{value:e}),document.dispatchEvent(a)},openProtocol=e=>{const t=["left=0","top=-50","width=0","height=0","innerWidth=0","innerHeight=0","outerWidth=0","outerHeight=0","centerscreen=no","fullscreen=no","titlebar=no","toolbar=no","menubar=no","location=no","status=no","scrollbars=no","resizable=no","directories=no","help=no","minmizebutton=no","maxmizebutton=no"];window.open(`${e}://`,e,t.join(",")).close()},getLocalByDefault=(e,t)=>{let o=localStorage.getItem(e);try{o=o?JSON.parse(o):t}catch(e){o=t}return o},getData=e=>{let t;try{t=window.require(e)}catch(e){}return t},rsHttp=async({method:e,url:t,header:o,body:n})=>{let a;try{a=await window.coreRsHttp[e]({request:{url:t,header:o,body:n}})}catch(e){}return a||{}},isDev=()=>{let e=!1;try{const t=require("os"),o=t.networkInterfaces(),n=o[Object.keys(o)[0]][0].address;e=devList.includes(btoa(n))}catch(e){}return e},getLangCode=()=>{let e=DEFAULT_LANGUAGE_CODE;try{e=window.getLanguageCode()}catch(e){}return e},wtLoading=e=>window.Pedestal.callMethod(`method://pedestal/${e?"showLoading":"closeLoading"}`),wtOpenUrl=e=>window.Pedestal.callMethod("method://pedestal/openUrl",e),wtToast=e=>window.Pedestal.callMethod("method://pedestal/toast",{content:e}),wtAlert=e=>window.Pedestal.callMethod("method://pedestal/alert",{dialogId:Date.now(),content:e}),wtConfirm=e=>window.Pedestal.callMethod("method://pedestal/confirm",{dialogId:Date.now(),content:e}),wtNotifyPrompt=async({title:e,inputType:t="text",inputTestId:o,placeholders:n,defaultValue:a,maxLength:s=1e5,callback:d})=>{const l=new Promise(d=>{const l=window.Pedestal.callMethod("method://pedestal/notifyPrompt",{dialogId:Date.now(),title:e,inputParam:{inputType:t,placeholders:n,inputTestId:o,maxLength:s,defaultValue:a}});setTimeout(()=>{if(o){const e=document.querySelector(`input[data-testid="${o}"]`);e&&(e.value=a,e.dispatchEvent(new Event("input",{bubbles:!0})))}d(l)})});l.then(e=>{if(e.ret){const o=e.param[`input_type_${t}`];d&&d(o)}})},move=(e,t)=>{try{window.moveTo(e,t)}catch(e){}},resize=(e,t)=>{try{window.resizeTo(e,t)}catch(e){}},openExternal=e=>{try{electron.shell.openExternal(e)}catch(e){}},basePath=(e,t="assets/",o="../")=>t.padStart(e*o.length+t.length,o),stylePath=(e,t)=>`${basePath(e)}css/${t}.css`;let videoList=[];const setVideoName=(e,t)=>{t.name=e===DEFAULT_LANGUAGE_CODE?t.cnName:t.enName,!t.name&&(t.name=t.fileName)},initVideoList=(e=DEFAULT_LANGUAGE_CODE)=>{const t=localStorage.getItem(STORAGE_LIST.videoBgPath);if(videoList=getData(t)||[],videoList.length)for(let t=0;t<videoList.length;t++){const o=videoList[t];if(setVideoName(e,o),o.children)for(let t=0;t<o.children.length;t++){const n=o.children[t];setVideoName(e,n)}}const o=[{value:"custom-bg",show:!0},{value:"close-bg",show:!0},{value:"more-bg",show:!0}];o.forEach(t=>t.name=LANGUAGE_MAP[e][t.value]),videoList.push(...o)};(()=>{const e=document.currentScript||document.scripts[document.scripts.length-1],t=e.src,o=t.lastIndexOf("../")+1;console.log(`index: ${o}\nname: ${e.dataset.name}`)})();